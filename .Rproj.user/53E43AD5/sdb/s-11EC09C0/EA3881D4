{
    "collab_server" : "",
    "contents" : "#' Map a set of linguoids\n#'\n#' Takes any vector of ISO codes and return a map.\n#' @param x A character vector of ISO codes\n#' @author George Moroz <agricolamz@gmail.com>\n#' @examples\n#' map.iso(c(\"ady\", \"rus\"))\n#' @export\n\nmap.iso <- function(x){\n  input <- tolower(x)\n  link <- NA\n  lat <- NA\n  long <- NA\n  lang <- NA\n  for (i in 1:length(x)) {\n    link[i] <- paste(c(\"<a href='\",\n                       \"http://glottolog.org/resource/languoid/iso/\",\n                       glottolog[tolower(glottolog$iso) == input[i],]$iso,\n                       \"' target='_blank'>\",\n                       glottolog[tolower(glottolog$iso) == input[i],]$languoid,\n                       \"</a>\"), sep = \"\", collapse = \"\")\n    lat[i] <- glottolog[tolower(glottolog$iso) == input[i],]$latitude\n    long[i] <- glottolog[tolower(glottolog$iso) == input[i],]$longitude\n    lang[i] <- glottolog[tolower(glottolog$iso) == input[i],]$languoid\n  }\n  map.df <- data.frame(lang, link, lat, long)\n  map.df <- map.df[stats::complete.cases(map.df),]\n  m <- leaflet::leaflet(map.df) %>%\n    leaflet::addTiles() %>%\n    leaflet::addCircleMarkers(lng=map.df$long,\n                              lat=map.df$lat,\n                              popup= map.df$link,\n                              stroke = T,\n                              radius = 5,\n                              fillOpacity = 1,\n                              group = map.df$x) %>%\n    leaflet::addLayersControl(overlayGroups = map.df$x,\n                              options = layersControlOptions(collapsed = F))\n  m}\n",
    "created" : 1466171389542.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "509893661",
    "id" : "EA3881D4",
    "lastKnownWriteTime" : 1466172201,
    "last_content_update" : 1466172201069,
    "path" : "~/_DATA/OneDrive1/_Work/github/lingtypology/R/map.iso.R",
    "project_path" : "R/map.iso.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}