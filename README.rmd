---
title: "lingtypology"
author: "G. Moroz"
output: html_document
---

# lingtypology

lingtypology provides R with the [Glottolog database (v. 2.7)](http://glottolog.org/) and some more abilities for purposes of linguistic typology. The glottolog database containes the catalogue of languages of the world. This package helps researchers to make a linguistic maps, using philosophy of [The Cross-Linguistic Linked Data project](http://clld.org/), which allows for while at the same time facilitating uniform access to the data across publications.

## Installation

Get the released version from github:
`install.packages("devtools")`
`devtools::install_github("agricolamz/lingtypology")`

Загружаем библиотеку:
```{r}
library(lingtypology)
```
погнали... потом переведу

### Базовые функции
В пакет встроены фрагменты базы данных Glottolog: языкоиды (linguoids), ISO коды, координаты, аффилиация и страны распространения языков. Для того, чтобы даставать эту информацию в пакете `lingtypology` есть несколько функций, имеющих структуру дай мне X на основе Y. В результате можно:

- узнать ISO код по названию языка
```{r}
iso.lang("Adyghe")
```
- узнать навзание языка по ISO
```{r}
lang.iso("ady")
```
- узнать макрорегион, в котором распространен язык
```{r}
area.lang("Adyghe")
```
- узнать страны, в которых говорят на языке
```{r}
country.lang("Adyghe")
```
- узнать генеалогическую классификацию языков
```{r}
aff.lang("Adyghe")
```
- узнать языки, относящиеся к одной из генеалогических групп
```{r}
lang.aff("Abkhaz-Adyge")
```
- узнать координаты из базы данных Glottolog
```{r}
lat.lang("Adyghe")
long.lang("Adyghe")
```

### Комбинации функций
Естественно, все эти функции могут принимать не только по одному аргументу, но и вектор аргументов:
```{r}
iso.lang(c("Adyghe", "Russian"))
```
Кроме того функции можно комбинировать. Например, давайте получим вектор ISO кодов восточно-славянских языков.
```{r}
iso.lang(lang.aff("East Slavic"))
```
Здесь в целом от всех функций фокусов ожидать не приходится, единственным исключением является функция `country.lang`. По умолчанию данная функция обработает вектор языков и вернет вектор строк, содержащих списки стран, на которых говорят на языках из запроса. Однако если добавить аргумент `intersection = TRUE`, то функция выдаст страну, где говорят на двух языках из запроса.
```{r}
country.lang(c("Udi", "Laz"))
country.lang(c("Udi", "Laz"), intersection = TRUE)
```

### Строим карты
Вообще данный пакет задумывался для картографирования, этим в данном пакете занимается функция `map.feature`. Давайте отметим на карте все абхазо-адыгские языки:
```{r}
map.feature(lang.aff("Abkhaz-Adyge"))
```
Любую точку можно отключить, можно приблизится и удалится. Но никакая типология не мыслит себя без типов. В нашем примере вставим два вектора: в первом перечислим языки, а в следующем признаки:
```{r}
map.feature(c("Adyghe", "Kabardian", "Polish", "Russian", "Bulgarian"),
c("polysynthetic", "polysynthetic", "fusion", "fusion", "fusion"))
```
Функция сама сгрупировала все точки по признаку, раскрасила их и пересчитала.

Если ткнуть в точку, то она подсветиться и покажет язык, который данной точкой обозначен. Внутри появившегося окошка доступна ссылка, которая ведет на glottolog. Если же добавить еще один аргумент `popup`, то тогда к кроме названия языка будет отображаться интересующая информация. В нашем примере отображаться будут типы.
```{r}
map.feature(c("Adyghe", "Kabardian", "Polish", "Russian", "Bulgarian"),
c("polysynthetic", "polysynthetic", "fusion", "fusion", "fusion"),
c("polysynthetic", "polysynthetic", "fusion", "fusion", "fusion"))
```
Кроме того имеет смысл добавить заглавие, это делает аргумент `title`:
```{r}
map.feature(c("Adyghe", "Kabardian", "Polish", "Russian", "Bulgarian"),
features = c("polysynthetic", "polysynthetic", "fusion", "fusion", "fusion"),
popup = c("polysynthetic", "polysynthetic", "fusion", "fusion", "fusion"),
title = "тип языка")
```
Естественно, совершенно не стоит помнить наизусть, чему какой аргумент соответствует. Всегда имеет смысл вызвать справку или воспользоваться автозаполнением.

Функция `map.feature` может принимать и координаты на вход (аргументы `latitude` и `longitude`). Таким образом можно отмечать, например, диалекты или населенные пункты:
```{r}
map.feature(c("Adyghe", "Russian"), latitude = c(43, 57),  longitude = c(57, 43))
```
